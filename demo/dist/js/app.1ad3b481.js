(function(e){function t(t){for(var r,o,i=t[0],l=t[1],u=t[2],v=0,f=[];v<i.length;v++)o=i[v],s[o]&&f.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==s[l]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},s={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/demo/dist/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),s=n.n(r);s.a},"56d7":function(e,t,n){"use strict";n.r(t);n("28a5"),n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=n("2f62"),a=(n("7f7f"),n("d225")),o=n("b0b4"),i=n("f6f6"),l=n.n(i),u=n("4235"),c=n.n(u),v=n("caaa"),f=n.n(v),h=n("f499"),m=n.n(h),p=function(e){return m()(e,null,2)},d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.defaultValue,s=void 0===r?{}:r,o=n.serialize,i=void 0===o?p:o,l=n.deserialize,u=void 0===l?JSON.parse:l;Object(a["a"])(this,e),this.source=t,this.defaultValue=s,this.serialize=i,this.deserialize=u}return Object(o["a"])(e,[{key:"read",value:function(){var e=sessionStorage.getItem(this.source);return e?this.deserialize(e):(sessionStorage.setItem(this.source,this.serialize(this.defaultValue)),this.defaultValue)}},{key:"write",value:function(e){sessionStorage.setItem(this.source,this.serialize(e))}}]),e}(),g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(a["a"])(this,e),this.db=c()(n?new d(t):new f.a(t))}return Object(o["a"])(e,[{key:"get",value:function(e){return this.db.get(e).value()}},{key:"set",value:function(e,t){this.db.set(e,t).write()}},{key:"unset",value:function(e){this.db.unset(e).write()}}]),e}(),b=function(){function e(t){var n=this,r=t.local,s=t.session,o=t.name,i=void 0===o?"vuex-along":o,l=t.justSession,u=void 0!==l&&l;Object(a["a"])(this,e),this.name=i,this.local=r,this.session=s,this.justSession=u,this.localDBService=new g(i),this.sessionDBService=new g(i,!0),window&&(window.clearVuexAlong=function(e,t){n.clear(e,t)})}return Object(o["a"])(e,[{key:"saveData",value:function(e){if(!this.justSession){var t=this.local,n=l.a.cloneDeep(e);if(t){var r=t.list,s=t.isFilter;r.length&&(n=s?l.a.omit(n,r):l.a.pick(n,r))}this.localDBService.set(this.name,n)}var a=this.session;if(a){var o=a.list,i=a.isFilter,u=l.a.cloneDeep(e);o.length&&(u=i?l.a.omit(u,o):l.a.pick(u,o)),this.sessionDBService.set(this.name,u)}}},{key:"restoreData",value:function(e){var t=this.name;e.replaceState(l.a.defaultsDeep(this.sessionDBService.get(t),this.localDBService.get(t),e.state))}},{key:"clear",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.name;e&&this.localDBService.unset(n),t&&this.sessionDBService.unset(n)}}]),e}(),_=function(e){var t=new b(e);return function(e){t.restoreData(e),e.subscribe(function(e,n){return t.saveData(n)})}},S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),r("HelloWorld",{attrs:{msg:"Thanks for using vuex-along"}})],1)},w=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v(e._s(e.msg))]),e._m(0),n("h3",[e._v("Local example")]),n("ul",[n("li",[e._v("\n        "+e._s(e.$store.state.count)+"\n        "),n("button",{on:{click:e.increment}},[e._v("+ 10")])])]),n("h3",[e._v("Session example")]),n("ul",[n("li",[e._v("\n        "+e._s(e.$store.state.ma.a1)+"\n        "),n("button",{on:{click:e.reverseA1}},[e._v("reverse a1")]),e._v("\n        (Saved ma.a1)\n      ")]),n("li",[e._v("\n        "+e._s(e.$store.state.ma.a2)+"\n        "),n("button",{on:{click:e.reverseA2}},[e._v("reverse a2")]),e._v("\n        (Unsaved ma.a2)\n      ")])]),n("h3",[e._v("clear data")]),n("ul",[n("li",[n("button",{on:{click:e.clearLocal}},[e._v("clear local / 清除 localStorage")])]),n("li",[n("button",{on:{click:e.clearSession}},[e._v("clear Session / 清除 sessionStorage")])])]),e._m(1),n("br"),n("pre",[e._v('const moduleA = {\n  state: {\n    a1: "hello",\n    a2: "world"\n  }\n};\n\nconst store = new Vuex.Store({\n  state: {\n    count: 0\n  },\n  mutations: {\n    increment(state) {\n      state.count += 10;\n    },\n    reverseA1(state) {\n      state.ma.a1 = state.ma.a1\n        .split("")\n        .reverse()\n        .join("");\n    },\n    reverseA2(state) {\n      state.ma.a2 = state.ma.a2\n        .split("")\n        .reverse()\n        .join("");\n    }\n  },\n  modules: {\n    ma: moduleA\n  },\n  plugins: [\n    ')]),n("pre",{staticClass:"light"},[e._v('    createVuexAlong({\n      name: "hello-vuex-along",\n      local: { list: ["ma"], isFilter: true },\n      session: { list: ["ma.a1"] }\n    })\n    ')]),n("pre",[e._v("  ]\n});\n    ")]),e._m(2)])},x=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\n      Auto save vuex state to localStorage or sessionStorage,\n      "),n("br"),e._v("check out the\n      "),n("a",{attrs:{href:"https://github.com/boenfu/vuex-along",target:"_blank",rel:"noopener"}},[e._v("github")]),e._v(".\n    ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[e._v("\n      Options example\n      "),n("a",{attrs:{href:"https://github.com/boenfu/vuex-along/tree/master/demo/src/main.js",target:"_blank",rel:"noopener"}},[e._v("demo/src/main.js")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\n      More options\n      "),n("br"),e._v("check out the\n      "),n("a",{attrs:{href:"https://github.com/boenfu/vuex-along",target:"_blank",rel:"noopener"}},[e._v("README")]),e._v(".\n    ")])}],k={name:"HelloWorld",props:{msg:String},methods:{increment:function(){this.$store.commit("increment")},reverseA1:function(){this.$store.commit("reverseA1")},reverseA2:function(){this.$store.commit("reverseA2")},clearLocal:function(){window.clearVuexAlong(!0,!1)},clearSession:function(){window.clearVuexAlong(!1,!0)}}},y=k,O=(n("89c5"),n("2877")),A=Object(O["a"])(y,j,x,!1,null,"1c630b95",null),D=A.exports,$={name:"app",components:{HelloWorld:D}},V=$,B=(n("034f"),Object(O["a"])(V,S,w,!1,null,null,null)),z=B.exports;r["a"].config.productionTip=!1,r["a"].use(s["a"]);var E={state:{a1:"hello",a2:"world"}},M=new s["a"].Store({state:{count:0},mutations:{increment:function(e){e.count+=10},reverseA1:function(e){e.ma.a1=e.ma.a1.split("").reverse().join("")},reverseA2:function(e){e.ma.a2=e.ma.a2.split("").reverse().join("")}},modules:{ma:E},plugins:[_({name:"hello-vuex-along",local:{list:["ma"],isFilter:!0},session:{list:["ma.a1"]}})]});new r["a"]({render:function(e){return e(z)},store:M}).$mount("#app")},"64a9":function(e,t,n){},"89c5":function(e,t,n){"use strict";var r=n("d52d"),s=n.n(r);s.a},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},d52d:function(e,t,n){}});
//# sourceMappingURL=app.1ad3b481.js.map